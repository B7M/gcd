In the previous lesson we talked about a common file type that you will encounter in data science projects - tabular data. In this lesson, we'll talk about another common format that you may encounter, especially if you are going to be requesting data from APIs or web scraping. These data are often obtained in either J sawn or XML format, which are both hierarchical forms of data (meaning data is nested within other pieces of data), the problem with each being that the data is not already structured in a table, ready for import into R! By the end of this lesson, you should be able to recognize what J sawn and XML data look like and how to import these data into R. We will talk about how to get data from APIs or via web scraping in the last two lessons of this week of the course, but before we get there, we thought it prudent that you know how to recognize and deal with the types of data that they produce!

J sawn (Java Script Object Notation) is a text-based way to send information between a browser and a server. J sawn is easy for humans to read and to write. Thus, it makes sense that API calls would return information in the J sawn format. J sawn data adhere to certain rules in how they are structured. For simplicity, J sawn format requires objects to be comprised of key-value pairs, in which the key is analogous to the variable in a classic data table, and the pairs are the observations, both formatted in a very specific way. For example, an example of data formatted in J sawn format could be curly bracket, name in quotes, colon, isabela in quotes, closing curly bracket, where "Name" would be a key, "Isabela" would be a value, and together they would be a key-value pair. 

Let's take a look at how J sawn data looks in R. First, we are going to make a J sawn object in R (similar to last time where we made a CSV in Google Sheets and loaded it into R). To do so, copy the provided code into R Studio. This format cannot, as it is, be easily worked with within R; however, there is an R package to take data from J sawn format to an object-based format that can be worked with in R as if it were originally a data frame from a tabular data source. 

The R package J sawn lite is just what to work with whenever you have data in J sawn format. When using the defaults of the function from J sawn, J sawn lite will take the data from J sawn array format and helpfully return a data frame. 

Data frames can also be returned to their original J sawn format using the function: to J sawn.

In addition to J sawn data using key-pairs, J sawn data are nested and hierarchical. This means that key-pairs can be organized into different levels (hierarchical) with some levels of information being stored within other levels (nested). You will be able to see what this means in practice in the following example where data was downloaded from Yelp in J sawn format and analysed in R. . Kan Nishida, a data scientist, was interested in understanding what restaurant types were found most frequently in each state or province. To do this, he used J sawn data originally released from Yelp. He wrangled the data from J sawn format into a tabular format using J sawn lite and other data wrangling packages, such as D plier, to ultimately determine the types of restaurants found most frequently in a number of different states and provinces.

As we alluded to above, we can see a snippet of J sawn data here from Yelp explaining a restaurant's qualities exemplifying how J sawn data can be hierarchical and nested. Here, we're looking at the attributes of this restaurant. Within attributes, there are four nested categories: Take-out, Wi-Fi, Drive-Thru, and Good For. In the hierarchy, attributes is at the top, while these four categories are within attributes. Within one of these attributes Good For, we see another level within the hierarchy. In this third level we see a number of other categories nested within Good For. This should give you a slightly better idea of how J sawn data are structured.

Extensible Markup Language (XML), is another human- and machine-readable language that is used frequently by web services and APIs. However, instead of being based on key-value pairs, XML relies on nodes, tags, and elements. The author defines these tags to specify what information is included in each element of the XML document and allows for elements to be nested within one another. The nodes define the hierarchical structure of the XML (which means that XML is hierarchical and nested like J sawn)! As before, our goal, once we recognize data to be in XML format, is to convert the data into a data frame in R that we can easily work with. XML accomplishes the same goal as J sawn, but it just does it in a different format. Thus, the two formats are used for similar purposes -- sharing information on the web; however, because the format in which they do this is different, a different R package is needed to process XML data. This package is called XML 2.

To see an example of using XML 2 to parse XML data after scraping a website, check out this post from Jos√© Roberto Ayala Solares where he took the text from a New York Times article called "Trump's Lies", scraped the data from the web (obtaining it in XML), and then wrangled it into a tidy format using XML 2.

In this lesson, our goal is to make you aware that data from the Internet (and APIs in particular) will often come in either J sawn or XML format. Thus, the J sawn and XML examples provided here only give you a bit of an idea of what J sawn and XML data are and how to work with them. Nevertheless, the more frequently you retrieve data from APIs and the Internet, the more comfortable you'll have to become with both J sawn and XML. And, J sawn lite and XML 2 will help you as you work with these data in R!